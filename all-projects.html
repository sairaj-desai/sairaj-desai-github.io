<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>All Projects</title>
  <link rel="stylesheet" href="style.css" />
  <link rel="stylesheet" href="css/cursor.css" />
  <link rel="stylesheet" href="css/cards.css" />
  <link rel="stylesheet" href="css/ghost.css" />
  <link rel="stylesheet" href="css/project-list.css" />
  <style>
    :root { --accent: #3b82f6; --text: #e5e7eb; --muted: #9ca3af; }
    body { font-family: 'Poppins', sans-serif; background: #000000; color: var(--text); }
    .page-header { max-width: 1200px; margin: 2rem auto 1rem; padding: 0 2rem; display: flex; align-items: baseline; justify-content: space-between; }
    .page-title { font-size: clamp(2rem, 6vw, 3rem); font-weight: 800; letter-spacing: -0.02em; }
    .page-sub { font-size: 1rem; color: var(--muted); }
    .grid-wrap { max-width: 1200px; margin: 0 auto; padding: 0 2rem 4rem; position: relative; }
    .card__container { grid-template-columns: repeat(2, 1fr); gap: clamp(1.5rem, 3vw, 2rem); }
@media (max-width: 1200px) { .card__container { grid-template-columns: repeat(2, 1fr); } }
@media (max-width: 900px) { .card__container { grid-template-columns: repeat(2, 1fr); } }
@media (max-width: 600px) { .card__container { grid-template-columns: 1fr; } }
    /* Ensure videos sit under image until hover */
    .card { overflow: hidden; border-radius: 12px; position: relative; transition: transform 0.5s cubic-bezier(0.19, 1, 0.22, 1); }
    .card-video { position: absolute; inset: 0; width: 100%; height: 100%; object-fit: cover; opacity: 0; transition: opacity 0.3s ease; z-index: 0; }
    .card img { position: relative; z-index: 1; transition: opacity 0.3s ease; }
    .card:hover .card-video { opacity: 1; }
    .card:hover img { opacity: 0; }
    /* Glitchy shake effect */
    @keyframes glitch-shake { 0%,100%{transform:translate3d(0,0,0)} 10%,30%,50%,70%,90%{transform:translate3d(-2px,0,0)} 20%,40%,60%,80%{transform:translate3d(2px,0,0)} 5%,25%,45%,65%,85%{transform:translate3d(0,-2px,0)} 15%,35%,55%,75%,95%{transform:translate3d(0,2px,0)} }
    .card:hover { animation: glitch-shake 0.5s cubic-bezier(.36,.07,.19,.97) both; transform: scale(1.02); }
    
    .nav-menu {
        position: fixed;
        top: 0;
        left: 0;
        width: 100%;
        padding: 1.5rem 2rem;
        display: flex;
        justify-content: space-between;
        align-items: center;
        z-index: 100;
        background: rgba(16, 18, 27, 0.35);
        backdrop-filter: blur(10px);
        -webkit-backdrop-filter: blur(10px);
        border-bottom: 1px solid rgba(255, 255, 255, 0.12);
        box-shadow: 0 6px 20px rgba(0, 0, 0, 0.15);
    }

    .nav-menu ul {
        display: flex;
        gap: 2rem;
    }

    .nav-menu a {
        color: var(--text);
        text-decoration: none;
        font-weight: 500;
        transition: all 0.3s ease;
        text-shadow: 0 1px 2px rgba(0,0,0,0.35);
    }
    /* Back button moved upward */
    .back-btn { position: fixed; top: 0.75rem; left: 2rem; z-index: 101; }

    /* Banner title styling to match other pages */
    .banner h1 {
      font-size: clamp(2.5rem, 8vw, 4.5rem);
      font-weight: 800;
      letter-spacing: -0.02em;
      color: var(--text);
      margin: 0;
      text-align: center;
    }
    .banner {
      position: relative;
      overflow: hidden;
      min-height: 100vh;
      display: flex;
      align-items: center;
      justify-content: center;
    }
    .spline-bg spline-viewer { width: 100%; height: 100%; display:block; }
    /* Card info overlay */
    .card__info { position: absolute; left: 0; bottom: 0; width: 100%; padding: 1rem; background: linear-gradient(to top, rgba(0,0,0,0.8), transparent); color: #fff; z-index: 2; opacity: 0.9; transition: opacity 0.3s ease, transform 0.3s ease; }
    .card:hover .card__info { opacity: 1; transform: translateY(-5px); }
    .card__info h3 { margin: 0 0 0.5rem; font-size: 1.125rem; font-weight: 600; transition: transform 0.3s ease; }
    .card__info p { margin: 0; font-size: 0.9rem; opacity: 0.85; transition: transform 0.3s ease; }
    .card:hover .card__info h3 { transform: translateY(-2px); }
    .card:hover .card__info p { transform: translateY(-2px); }
    /* Click overlay to allow whole card click */
    .card__link { position: absolute; inset: 0; z-index: 3; }

    /* Wider, shorter cards for All Projects (page-scoped overrides) */
    body.all-projects-page .card { max-width: none; aspect-ratio: 2 / 1; }
    body.all-projects-page .card img,
    body.all-projects-page .card-video { width: 100%; height: 100%; object-fit: cover; }
  </style>
</head>
<body class="all-projects-page">
    <!-- Navigation Menu -->
    <nav class="nav-menu">
        <div class="logo text-white text-xl font-bold">Sairaj</div>
        <ul>
            <li><a href="index.html#home">Home</a></li>
            <li><a href="index.html#projects">Projects</a></li>
            <li><a href="about.html">About</a></li>
            <li><a href="contact.html">Contact</a></li>
        </ul>
    </nav>
  
  <!-- Banner with Spline background end-to-end -->
  <section id="home" class="banner">
    <script type="module" src="https://unpkg.com/@splinetool/viewer@1.10.90/build/spline-viewer.js"></script>
    <div class="spline-bg" style="position:absolute; inset:0; z-index:0;">
      <spline-viewer url="https://prod.spline.design/NpvtMl0f5ZeBhyD1/scene.splinecode"></spline-viewer>
    </div>
    <div class="content" style="position:relative; z-index:1; text-align:center; width:100%;">
      <h1 data-content="All Projects">All Projects</h1>
    </div>
  </section>

  <main class="grid-wrap">
    <a href="index.html" class="back-btn">‚Üê Back</a>
    <div class="card__container">
      <!-- Card 1 -->
      <div class="card" data-project="project1">
        <img src="Frontimage/IM 1.png" alt="Interactive Installation" />
        <video class="card-video" muted playsinline preload="metadata" loop>
          <source src="videos/dragon_1.mp4" type="video/mp4" />
        </video>
        <div class="card__info">
          <h3>InvestMates</h3>
          <p>Museum exhibit with motion sensors and real-time interaction</p>
          <div class="project-type">
            <span class="project-label">UX Design</span>
            <span class="project-timeline">2023</span>
          </div>
        </div>
        <a class="card__link" href="IM.html" aria-label="Open Interactive Installation"></a>
      </div>

      <!-- Card 2 -->
      <div class="card" data-project="project2">
        <img src="Frontimage/moti 1.png" alt="Mobile App Design" />
        <video class="card-video" muted playsinline preload="metadata" loop>
          <source src="videos/motii.mp4" type="video/mp4" />
        </video>
        <div class="card__info">
          <h3>Moti</h3>
          <p>User interface for fitness tracking</p>
          <div class="project-type">
            <span class="project-label">UX Design</span>
            <span class="project-timeline">2022</span>
          </div>
        </div>
         <a class="card__link" href="Moti.html" aria-label="Open Mobile App Design"></a>
      </div>

      <!-- Card 3 -->
      <div class="card" data-project="project3">
        <img src="Frontimage/Board 1.png" alt="Brand Identity" />
        <video class="card-video" muted playsinline preload="metadata" loop>
          <source src="videos/dragon_1.mp4" type="video/mp4" />
        </video>
        <div class="card__info">
          <h3>Lab Genesis</h3>
          <p>Tech startup branding</p>
          <div class="project-type">
            <span class="project-label">UX Design</span>
            <span class="project-timeline">2022</span>
          </div>
        </div>
        <a class="card__link" href="board.html" aria-label="Open Brand Identity"></a>
      </div>

      <!-- Card 4 -->
      <div class="card" data-project="project4">
        <img src="Frontimage/Afterlife1.png" alt="Icon Design" />
        <video class="card-video" muted playsinline preload="metadata" loop>
          <source src="videos/Afterlife Redemption.mp4" type="video/mp4" />
        </video>
        <div class="card__info">
          <h3>Afterlife Redemption</h3>
          <p>Custom icon library</p>
          <div class="project-type">
            <span class="project-label">UX Design</span>
            <span class="project-timeline">2021</span>
          </div>
        </div>
         <a class="card__link" href="Afterlife.html" aria-label="Open Icon Design"></a>
      </div>

      <!-- Card 5 -->
      <div class="card" data-project="project5">
        <img src="Frontimage/fade1.png" alt="Web Platform" />
        <video class="card-video" muted playsinline preload="metadata" loop>
          <source src="videos/Fade.mp4" type="video/mp4" />
        </video>
        <div class="card__info">
          <h3>Fade</h3>
          <p>E-commerce platform with custom CMS and analytics</p>
          <div class="project-type">
            <span class="project-label">Game Design</span>
            <span class="project-timeline">2023</span>
          </div>
        </div>
        <a class="card__link" href="fade.html" aria-label="Open Web Platform"></a>
      </div>

      <!-- Card 6 -->
      <div class="card" data-project="project6">
        <img src="Frontimage/Digitalden 1.png" alt="VR Experience" />
        <video class="card-video" muted playsinline preload="metadata" loop>
          <source src="videos/Digital.mp4" type="video/mp4" />
        </video>
        <div class="card__info">
          <h3>Digital Den</h3>
          <p>Virtual reality training simulation</p>
        </div>
        <a class="card__link" href="Digitalden.html" aria-label="Open VR Experience"></a>
      </div>

      <!-- Card 7 -->
      <div class="card" data-project="project7">
        <img src="Frontimage/dn.png" alt="Data Visualization" />
        <video class="card-video" muted playsinline preload="metadata" loop>
          <source src="videos/dragon_1.mp4" type="video/mp4" />
        </video>
        <div class="card__info">
          <h3>Drunken Night</h3>
          <p>Interactive dashboard for real-time analytics</p>
        </div>
        <a class="card__link" href="DrunkenNight.html" aria-label="Open Data Visualization"></a>
      </div>

      <!-- Card 8 -->
      <div class="card">
        <img src="images/dragon_1.jpg" alt="Game Development" />
        <video class="card-video" muted playsinline preload="metadata" loop>
          <source src="videos/dragon_1.mp4" type="video/mp4" />
        </video>
        <div class="card__info">
          <h3>Game Development</h3>
          <p>Indie puzzle game with unique mechanics</p>
        </div>
        <a class="card__link" href="project8.html" aria-label="Open Game Development"></a>
      </div>
    </div>
  </main>

  <script src="js/cursor.js"></script>
  <script>
    // Robust hover/touch video play logic with autoplay policy handling
    (function(){
      const isTouch = ('ontouchstart' in window) || (navigator.maxTouchPoints > 0);
      document.querySelectorAll('.card').forEach(function(card){
        const video = card.querySelector('.card-video');
        if (!video) return;
        // Ensure attributes for autoplay policies
        video.muted = true;
        video.setAttribute('playsinline', '');
        video.preload = 'metadata';

        const playVideo = function(){
          try { video.currentTime = 0; } catch(e){}
          const p = video.play();
          if (p && typeof p.then === 'function') {
            p.catch(function(){
              // Retry on next frame, ensure muted inline
              requestAnimationFrame(function(){
                video.muted = true;
                try { video.play(); } catch(e){}
              });
            });
          }
        };
        const pauseVideo = function(){
          try { video.pause(); video.currentTime = 0; } catch(e){}
        };

        if (!isTouch) {
          card.addEventListener('mouseenter', function(){ card.classList.add('playing'); playVideo(); });
          card.addEventListener('mouseleave', function(){ card.classList.remove('playing'); pauseVideo(); });
        } else {
          // Mobile: play on touch, pause on touch end
          card.addEventListener('touchstart', function(){ card.classList.add('playing'); playVideo(); }, { passive: true });
          card.addEventListener('touchend', function(){ card.classList.remove('playing'); pauseVideo(); }, { passive: true });
          // Fallback: short preview on click
          card.addEventListener('click', function(e){ card.classList.add('playing'); playVideo(); setTimeout(function(){ card.classList.remove('playing'); pauseVideo(); }, 2000); });
        }
      });
    })();
  </script>

  <!-- Scroll Animations -->
  <script src="js/scroll-animations.js"></script>
  
  <!-- Slider Script -->
  <script src="script.js"></script>
  <script src="js/project-list.js"></script>
  <script>
    // Add video playback functionality to cards
    document.addEventListener('DOMContentLoaded', function() {
      const cards = document.querySelectorAll('.card');
      
      cards.forEach(card => {
        const video = card.querySelector('.card-video');
        
        card.addEventListener('mouseenter', () => {
          if (video) {
            video.play();
          }
        });
        
        card.addEventListener('mouseleave', () => {
          if (video) {
            video.pause();
          }
        });
      });
    });
  </script>
</body>
</html>